!function(){var e,t={8384:function(e,t,n){"use strict";var a=window.React,o=window.wp.domReady,c=n.n(o),r=window.wp.element,i=n(5697),s=n.n(i),l=window.wp.dom,u=window.wp.components,d=({feedbackData:e,formData:t,onCheckboxChange:n,closeModal:o,onTextChange:c,onAction:r})=>(0,a.createElement)(u.Modal,{className:"common-deactivate-modal",onRequestClose:o,title:e.labels.title},(0,a.createElement)("div",{className:"common-deactivate-modal__checkbox"},e.choices.map((e=>{const o=t.choices.indexOf(e.slug)>=0;return(0,a.createElement)("div",{className:"common-deactivate-modal__choice","data-testid":"deactivate-modal__choice",key:e.slug},(0,a.createElement)(u.CheckboxControl,{checked:o,label:e.label,onChange:t=>n(t,e.slug)}),!!e.text_field&&(0,a.createElement)(u.TextControl,{className:"common-deactivate-modal__text "+(o?"show":""),onChange:t=>c(e.text_field,t),value:t[e.text_field]}))}))),(0,a.createElement)(u.ButtonGroup,null,(0,a.createElement)(u.Button,{className:"common-deactivate-modal__button","data-testid":"common-deactivate-modal__button",onClick:()=>r(!0),variant:"primary"},e.labels.submit_deactivate),(0,a.createElement)(u.Button,{className:"common-deactivate-modal__button","data-testid":"common-deactivate-modal__button",onClick:()=>r(!1),variant:"link"},e.labels.skip_deactivate)),(0,a.createElement)("footer",{className:"common-deactivate-modal__footer"},(0,a.createElement)("div",{dangerouslySetInnerHTML:{__html:(0,l.safeHTML)(e.labels.privacy_disclaimer)}})));const m=document.documentElement.getAttribute("lang")||"en-US",p=({apiUrl:e,getParams:t,isEvent:n,pageData:o})=>{const[c,i]=(0,r.useState)(null),[s,l]=(0,r.useState)(!1),[u,p]=(0,r.useState)(null),[f,v]=(0,r.useState)({});(0,r.useEffect)((()=>((async()=>{const n=await(async(e,t=null)=>{const n={...t,random:1,language:m};let a="";Object.keys(n).forEach((e=>a+=`${e}=${n[e]}&`));try{const t=await fetch(`${e}?${a.slice(0,-1)}`);return t.ok?await t.json():null}catch(e){return null}})(e,t);n&&n.can_submit_feedback&&(window.addEventListener("click",b),h(n))})(),()=>{window.removeEventListener("click",b)})),[]);const h=e=>{p(e);const t={};e.choices.forEach((e=>{e.text_field&&(t[e.text_field]="")})),v({choices:[],coblocks_version:o.coblocksVersion,domain:o.domain,hostname:o.hostname,language:m,persona:o.wpOptions?.persona,skill:o.wpOptions?.skill,wp_version:o.wpVersion,...t})},b=(0,r.useCallback)((e=>{n(e)&&(e.preventDefault(),l(!0),i(e.target.href))}));return s&&u?(0,a.createElement)(d,{closeModal:()=>l(!1),feedbackData:u,formData:f,onAction:async(t=!1)=>{t&&f.choices.length>=u.choices_min&&await fetch(e,{method:"POST",body:JSON.stringify(f),headers:{"Content-Type":"application/json"}}),l(!1),window.location.href=c},onCheckboxChange:(e,t)=>{v((n=>{const a=n.choices;return e?a.push(t):a.splice(a.indexOf(t),1),{...n,choices:a}}))},onTextChange:(e,t)=>{v((n=>({...n,[e]:t})))}}):null};p.propTypes={apiUrl:s().string.isRequired,getParams:s().object,isEvent:s().func.isRequired,pageData:s().object.isRequired};const f=()=>{const e=coblocksDeactivateData.domain;if(!coblocksDeactivateData||!e)return null;const t={domain:e};return(0,a.createElement)(p,{apiUrl:"https://wpnux.godaddy.com/v3/api/feedback/coblocks-optout",getParams:t,isEvent:e=>"deactivate-coblocks"===e.target.id,pageData:coblocksDeactivateData})};c()((function(){(0,r.render)((0,a.createElement)(f,null),document.getElementById(coblocksDeactivateData.containerClass))}))},2703:function(e,t,n){"use strict";var a=n(414);function o(){}function c(){}c.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,c,r){if(r!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c,resetWarningCache:o};return n.PropTypes=n,n}},5697:function(e,t,n){e.exports=n(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},n={};function a(e){var o=n[e];if(void 0!==o)return o.exports;var c=n[e]={exports:{}};return t[e](c,c.exports,a),c.exports}a.m=t,e=[],a.O=function(t,n,o,c){if(!n){var r=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],c=e[u][2];for(var i=!0,s=0;s<n.length;s++)(!1&c||r>=c)&&Object.keys(a.O).every((function(e){return a.O[e](n[s])}))?n.splice(s--,1):(i=!1,c<r&&(r=c));if(i){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}c=c||0;for(var u=e.length;u>0&&e[u-1][2]>c;u--)e[u]=e[u-1];e[u]=[n,o,c]},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={902:0,408:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,c,r=n[0],i=n[1],s=n[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(s)var u=s(a)}for(t&&t(n);l<r.length;l++)c=r[l],a.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return a.O(u)},n=self.webpackChunkcoblocks=self.webpackChunkcoblocks||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=a.O(void 0,[408],(function(){return a(8384)}));o=a.O(o)}();