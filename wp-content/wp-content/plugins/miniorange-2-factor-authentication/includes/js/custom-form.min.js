setTimeout((function(){jQuery(document).ready((function(){let t=jQuery,e=otpverificationObj.siteURL,o=otpverificationObj.nonce,i=otpverificationObj.submitSelector,n=otpverificationObj.formSubmit,a=otpverificationObj.formname,s=otpverificationObj.emailselector,l=otpverificationObj.phoneSelector,p=otpverificationObj.notificationSelector,r=otpverificationObj.successClass,d=otpverificationObj.errorClass,c="",_=!1,u=!1,b=otpverificationObj.authType,f=otpverificationObj.isEnabledShortcode,m=otpverificationObj.isRegistered;otpverificationObj.authType;const v='<input type="text"name="edit_phone_otp"id="edit_phone_otp"placeholder="Enter OTP"style="display:none; ">',g='<input type="text"name="edit_email_otp"id="edit_email_otp"placeholder="Enter OTP"style="display:none; ">',h='<p id="otpphonemessage">'+otpverificationStringsObj.otp_sent_phone+"</p>",y='<p id="otpemailmessage">'+otpverificationStringsObj.otp_sent_email+"</p>",O='<button type="button" class="button" id ="otp_send_phone_button">'+otpverificationStringsObj.send_otp+'</button> <div class="button" id ="timer_phone" style="display:none;margin-top:1em">00</div>',S='<button type="button" class="button" id ="otp_send_email_button">'+otpverificationStringsObj.send_otp+'</button> <div class="button" id ="timer_email" style="display:none;margin-top:1em">00</div>',j='<button type="button" class="button" id ="validate_phone_otp" style="display:none;margin-top:1em">'+otpverificationStringsObj.validate_otp+"</button><br>",x='<button type="button" class="button" id ="validate_email_otp" style="display:none;margin-top:1em">'+otpverificationStringsObj.validate_otp+"</button><br>",k=document.createElement("style");if(k.innerHTML="\n\t\t\t\t  .mo2f_red {\n\t\t\t\t\tcolor:red;\n\t\t\t\t  }\n\t\t\t\t  .mo2f_green {\n\t\t\t\t\tcolor:green;\n\t\t\t\t  }\n\t\t\t\t",document.head.appendChild(k),"false"===m){const T='<p id="registermessage" style="color: red;font-size: 18px;border: red 1px solid;padding: 5px" > '+otpverificationStringsObj.account_register+"</p>";jQuery(s).after("<br>"+T)}else if((t(a).length||t(i).length)&&!1!==m&&"false"!==f){function E(t,e,o){I(otpverificationStringsObj[t],e,o)}function I(e,o,i){p="EMAIL"==i.toUpperCase()?"#otpemailmessage":"#otpphonemessage";var n=t(p).offset();t(p).text(""),"red"==o?(t(p).text(e).removeClass(r).css("display","block").addClass(d),window.location.href=p,0!=n?.top&&window.scroll({top:n?.top-.25*screen.height,behavior:"smooth"})):t(p).text(e).css("display","block").removeClass(d).addClass(r)}function A(e,o,i,n,a){console.log(e),c="";let s,l=0,p={action:"mo_shortcode",mo_action:"challenge",email:i,phone:o,nonce:n,authTypeSend:e};"EMAIL"==e?t("#otp_send_email_button").text(otpverificationStringsObj.sending_otp):t("#otp_send_phone_button").text(otpverificationStringsObj.sending_otp),t.post(a,p,(function(a){if(console.log(a.status),console.log(a.message),null===a)E("contact_admin","red",e);else switch(a.status){case"SUCCESS":"EMAIL"==e?(t("#edit_email_otp").css("display","block"),t("#validate_email_otp").css("display","block")):(t("#edit_phone_otp").css("display","block"),t("#validate_phone_otp").css("display","block")),I(a.message,"green",e),c=a.txId,u?clearInterval(s):l=30,t("#validate_phone_otp").click((function(a){a.preventDefault(),z=t("#edit_phone_otp").val(),L(z,n,o,c,i,e)})),t("#validate_email_otp").click((function(a){a.preventDefault(),z=t("#edit_email_otp").val(),L(z,n,o,c,i,e)})),s=setInterval((function(){0===l?(clearTimeout(s),"EMAIL"==e?(t("#otp_send_email_button").css("display","block"),t("#timer_email").css("display","none"),t("#otp_send_email_button").text(otpverificationStringsObj.resend_otp),t("#otp_send_email_button").css("margin-top","10px")):(t("#otp_send_phone_button").css("display","block"),t("#timer_phone").css("display","none"),t("#otp_send_phone_button").text(otpverificationStringsObj.resend_otp),t("#otp_send_phone_button").css("margin-top","10px"))):("EMAIL"==e?(t("#otp_send_email_button").css("display","none"),t("#timer_email").css("display","block"),t("#timer_email").text(l)):(t("#otp_send_phone_button").css("display","none"),t("#timer_phone").css("display","block"),t("#timer_phone").text(l)),l--)}),1e3);break;case"FAILED":case"ERROR":"EMAIL"==e?t("#otp_send_email_button").text(otpverificationStringsObj.send_otp):t("#otp_send_phone_button").text(otpverificationStringsObj.send_otp),I(a.message,"red",e)}}))}function L(o,a,s,l,p,r){let d={action:"mo_shortcode",mo_action:"validate",otp:o,nonce:a,mobile:s,txId:l,email:p,authType:r};_||t.post(e,d,(function(e){if(null===e)E("validation_error","red",r),_=!1;else switch(e.status){case"SUCCESS":return I(e.message,"green",r),_=!0,".ur-submit-button"===i&&setTimeout((function(){location.reload()}),1e3),"true"==n?t(i).unbind("click").click():t(i).unbind("click"),!0;case"FAILED":return I(e.message,"red",r),t(i).removeAttr("disabled"),!1;case"ERROR":return t(i).removeAttr("disabled"),!1}}))}let R,w,z;switch(b){case"SMS":if(!t(l).length){const U='<p id="phoneFieldLabel" style="color: red;font-size: 18px;border: red 1px solid;padding: 5px" >'+otpverificationStringsObj.phone_field_not_found+"</p>";return void t(s).after("<br>"+U)}t(l).css("padding-left","50px"),"true"==n?t(l).after(h+v+O):t(l).after(h+v+O+j),t(l).intlTelInput({}),t(".selected-flag").css("margin","9px"),t("#otp_send_phone_button").click((function(){R=t(l).val(),R=R.replace(/\s+/g,""),w=t(s).val(),M(R)?(u=!1,A(b,R,null,o,e)):E("invalid_phone","red","phone")})),t(i).click((function(e){e.preventDefault(),!1===_&&(z=t("#edit_phone_otp").val(),z?L(z,o,R,c,w,"SMS"):E("validate_phone","red","phone"))}));break;case"EMAIL":t("#reg_passmail").length&&(t("#reg_passmail").css("visibility","hidden"),t(".clear").remove());let D=t(s).attr("class");t("#edit_email_otp").addClass(D);let F=t(i).attr("class");if(t("#otp_send_email_button").attr("class",F),!t(s).length&&"#signup_email"!=s){const Q='<p id="emailFieldLabel" style="color: red;font-size: 18px;border: red 1px solid;padding: 5px" > '+otpverificationStringsObj.email_field+s+otpverificationStringsObj.not_found+"</p>";return void(t(a).length?t(a).after("<br>"+Q):t(i).length&&t(i).after("<br>"+Q))}"true"==n?t(s).after(y+g+S):t(s).after(y+g+S+x),t("#otp_send_email_button").click((function(){w=t(s).val(),C(w)?(u=!1,A(b,null,w,o,e)):E("invalid_email","red","email")})),t(i).click((function(e){e.preventDefault(),!1===_&&(z=t("#edit_email_otp").val(),z?L(z,o,R,c,w,"EMAIL"):E("validate_email","red","email"))}));break;case"both":if("true"==n?t(s).after(y+g+S):t(s).after(y+g+S+x),t("#otp_send_email_button").click((function(){w=t(s).val(),C(w)?(u=!1,b="EMAIL",A(b,null,w,o,e)):E("invalid_email","red","email")})),t(l).intlTelInput({}),!t(l).length){const Z='<p id="phoneFieldLabel" style="color: red;font-size: 18px;border: red 1px solid;padding: 5px" > '+otpverificationStringsObj.phone_field_not_found+"</p>";return void t(s).after("<br>"+Z)}"true"==n?t(l).after(h+v+O):t(l).after(h+v+O+j),t("#otp_send_phone_button").click((function(){R=t(l).val(),R=R.replace(/\s+/g,""),w=t(s).val(),M(R)?(u=!1,b="SMS",A(b,R,null,o,e)):E("invalid_phone","red","phone")}))}function C(t){return!!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i.test(t)}function M(t){return!(t.length<10||0==t.length||!/[0-9 -()+]+$/.test(t))}}}))}),1e3);